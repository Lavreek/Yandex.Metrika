# Yandex.Metrica

### Получение токена и создание файлов настроек
1. Откройте файл `getToken.html` он перенаправит Вас на авторизацию в приложении.
2. Скопируйте адресную строку
+ Пример: https://oauth.yandex.ru/verification_code#access_token=?&token_type=?&expires_in=?
+ Вместо `?` будут Ваши сгенерированные значения.
3. Выполните файл `createSettings.php` с параметрами -l (link) или -c (counter). Параметры можно использовать вместе или раздельно.
+ Пример: php `createSettings.php` -l="https://oauth.yandex.ru/verification_code#access_token=?&token_type=?&expires_in=?"
+ Убедитесь, что вместо `?` будут Ваши сгенерированные значения.

### Удаление файлов настроек
1. Выполните файл `deleteSettings.php` с параметрами -l (link) или -c (counter) или -f (full). Параметры можно использовать вместе или раздельно.
+ Параметр -f (full) полностью отчистит файлы из каталога настроек.

### Добавление файлов в Яндекс.Метрика
#### Добавление следует по пути: 
+ `Яндекс.Метрика -> Счётчик -> Посетители и клиенты -> Клиенты`

P.S.: Исходный код переписан, но не отлажен

## Параметры применяемые в csv файле Яндекс.Метрики
+ create_date_time — дата и время
+ client_ids — список ClientID
+ emails — список электронных адресов
+ phones — список телефонных номеров
+ emails_md5 — `emails` конвертированный в md5 hash
+ phones_md5 — `phones` конвертированный в md5 hash
+ id — идентификатор заказа в вашей CRM
+ client_uniq_id — идентификатор клиента в CRM
+ order_status — тип статуса заказа.
+ + Возможные значения:
+ + + PAID — оплачен (по умолчанию);
+ + + IN_PROGRESS — в работе;
+ + + CANCELLED — отменен;
+ + + SPAM — спам.
+ revenue — доход
+ cost — себестоимость